(function() {var h=void 0,k=!0,l=null,m=!1,q,s=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ba(a){return"array"==aa(a)}function ca(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function t(a){return"string"==typeof a}function da(a){return"function"==aa(a)}function ea(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}function v(a){return a[fa]||(a[fa]=++ga)}var fa="closure_uid_"+(1E9*Math.random()>>>0),ga=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return w.apply(l,arguments)}
function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ka=Date.now||function(){return+new Date};function x(a,b){function c(){}c.prototype=b.prototype;a.f=b.prototype;a.prototype=new c}Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return w.apply(l,c)}return w(this,a)};function y(){0!=la&&(this.$a=Error().stack,ma[v(this)]=this)}var la=0,ma={};y.prototype.na=m;y.prototype.w=function(){if(!this.na&&(this.na=k,this.c(),0!=la)){var a=v(this);delete ma[a]}};y.prototype.c=function(){if(this.N)for(;this.N.length;)this.N.shift()()};function na(a){a&&"function"==typeof a.w&&a.w()};function oa(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a}function pa(a){if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ua,"&quot;"));return a}var ra=/&/g,sa=/</g,ta=/>/g,ua=/\"/g,qa=/[&<>\"]/;
function va(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function wa(a){var b=t(h)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var z=Array.prototype,xa=z.indexOf?function(a,b,c){return z.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ya=z.forEach?function(a,b,c){z.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},za=z.filter?function(a,b,c){return z.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=t(a)?
a.split(""):a,n=0;n<d;n++)if(n in g){var p=g[n];b.call(c,p,n,a)&&(e[f++]=p)}return e};function Aa(a,b){var c=xa(a,b),d;(d=0<=c)&&z.splice.call(a,c,1);return d}function Ba(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ca(a,b,c){return 2>=arguments.length?z.slice.call(a,b):z.slice.call(a,b,c)};var A,Da,Ea,Fa;function Ga(){return s.navigator?s.navigator.userAgent:l}Fa=Ea=Da=A=m;var Ha;if(Ha=Ga()){var Ia=s.navigator;A=0==Ha.indexOf("Opera");Da=!A&&-1!=Ha.indexOf("MSIE");Ea=!A&&-1!=Ha.indexOf("WebKit");Fa=!A&&!Ea&&"Gecko"==Ia.product}var Ja=A,B=Da,C=Fa,E=Ea,Ka=s.navigator,La=-1!=(Ka&&Ka.platform||"").indexOf("Mac");function Ma(){var a=s.document;return a?a.documentMode:h}var Na;
a:{var Oa="",Pa;if(Ja&&s.opera)var Qa=s.opera.version,Oa="function"==typeof Qa?Qa():Qa;else if(C?Pa=/rv\:([^\);]+)(\)|;)/:B?Pa=/MSIE\s+([^\);]+)(\)|;)/:E&&(Pa=/WebKit\/(\S+)/),Pa)var Ra=Pa.exec(Ga()),Oa=Ra?Ra[1]:"";if(B){var Sa=Ma();if(Sa>parseFloat(Oa)){Na=String(Sa);break a}}Na=Oa}var Ta={};
function F(a){var b;if(!(b=Ta[a])){b=0;for(var c=String(Na).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",n=d[f]||"",p=RegExp("(\\d*)(\\D*)","g"),U=RegExp("(\\d*)(\\D*)","g");do{var r=p.exec(g)||["","",""],u=U.exec(n)||["","",""];if(0==r[0].length&&0==u[0].length)break;b=((0==r[1].length?0:parseInt(r[1],10))<(0==u[1].length?0:parseInt(u[1],10))?-1:(0==r[1].length?0:parseInt(r[1],
10))>(0==u[1].length?0:parseInt(u[1],10))?1:0)||((0==r[2].length)<(0==u[2].length)?-1:(0==r[2].length)>(0==u[2].length)?1:0)||(r[2]<u[2]?-1:r[2]>u[2]?1:0)}while(0==b)}b=Ta[a]=0<=b}return b}var Ua=s.document,Va=!Ua||!B?h:Ma()||("CSS1Compat"==Ua.compatMode?parseInt(Na,10):5);var Wa=!B||B&&9<=Va,Xa=B&&!F("9");!E||F("528");C&&F("1.9b")||B&&F("8")||Ja&&F("9.5")||E&&F("528");C&&!F("8")||B&&F("9");function G(a,b){this.type=a;this.currentTarget=this.target=b}q=G.prototype;q.c=function(){};q.w=function(){};q.r=m;q.defaultPrevented=m;q.va=k;q.preventDefault=function(){this.defaultPrevented=k;this.va=m};function Ya(a){Ya[" "](a);return a}Ya[" "]=function(){};function Za(a,b){a&&$a(this,a,b)}x(Za,G);q=Za.prototype;q.target=l;q.relatedTarget=l;q.offsetX=0;q.offsetY=0;q.clientX=0;q.clientY=0;q.screenX=0;q.screenY=0;q.button=0;q.keyCode=0;q.charCode=0;q.ctrlKey=m;q.altKey=m;q.shiftKey=m;q.metaKey=m;q.Ua=m;q.ea=l;
function $a(a,b,c){var d=a.type=b.type;G.call(a,d);a.target=b.target||b.srcElement;a.currentTarget=c;if(c=b.relatedTarget){if(C){var e;a:{try{Ya(c.nodeName);e=k;break a}catch(f){}e=m}e||(c=l)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);a.relatedTarget=c;a.offsetX=E||b.offsetX!==h?b.offsetX:b.layerX;a.offsetY=E||b.offsetY!==h?b.offsetY:b.layerY;a.clientX=b.clientX!==h?b.clientX:b.pageX;a.clientY=b.clientY!==h?b.clientY:b.pageY;a.screenX=b.screenX||0;a.screenY=b.screenY||0;a.button=
b.button;a.keyCode=b.keyCode||0;a.charCode=b.charCode||("keypress"==d?b.keyCode:0);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.metaKey=b.metaKey;a.Ua=La?b.metaKey:b.ctrlKey;a.state=b.state;a.ea=b;b.defaultPrevented&&a.preventDefault();delete a.r}q.preventDefault=function(){Za.f.preventDefault.call(this);var a=this.ea;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,Xa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};q.c=function(){};var ab="closure_listenable_"+(1E6*Math.random()|0),bb=0;function cb(a,b,c,d,e,f){if(da(a))this.sa=k;else if(a&&a.handleEvent&&da(a.handleEvent))this.sa=m;else throw Error("Invalid listener argument");this.g=a;this.ua=b;this.src=c;this.type=d;this.capture=!!e;this.J=f;this.key=++bb;this.e=this.u=m}cb.prototype.handleEvent=function(a){return this.sa?this.g.call(this.J||this.src,a):this.g.handleEvent.call(this.g,a)};function db(a,b){for(var c in a)b.call(h,a[c],c,a)}var eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<eb.length;f++)c=eb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var gb={},H={},I={},J={};
function K(a,b,c,d,e){if(ba(b)){for(var f=0;f<b.length;f++)K(a,b[f],c,d,e);return l}if(a&&a[ab])a=a.j(b,hb(c),d,e);else a:{if(!b)throw Error("Invalid event type");d=!!d;var g=H;b in g||(g[b]={i:0,k:0});g=g[b];d in g||(g[d]={i:0,k:0},g.i++);var g=g[d],f=v(a),n;g.k++;if(g[f]){n=g[f];for(var p=0;p<n.length;p++)if(g=n[p],g.g==c&&g.J==e){if(g.e)break;n[p].u=m;a=n[p];break a}}else n=g[f]=[],g.i++;p=ib();g=new cb(c,p,a,b,d,e);g.u=m;p.src=a;p.g=g;n.push(g);I[f]||(I[f]=[]);I[f].push(g);a.addEventListener?
(a==s||!a.customEvent_)&&a.addEventListener(b,p,d):a.attachEvent(b in J?J[b]:J[b]="on"+b,p);a=gb[g.key]=g}return a}function ib(){var a=jb,b=Wa?function(c){return a.call(b.src,b.g,c)}:function(c){c=a.call(b.src,b.g,c);if(!c)return c};return b}function kb(a,b,c,d,e){if(ba(b))for(var f=0;f<b.length;f++)kb(a,b[f],c,d,e);else if(a&&a[ab])a.ja(b,hb(c),d,e);else if(d=!!d,a=lb(a,b,d))for(f=0;f<a.length;f++)if(a[f].g==c&&a[f].capture==d&&a[f].J==e){mb(a[f]);break}}
function mb(a){if("number"==typeof a||!a||a.e)return m;var b=a.src;if(b&&b[ab])return nb(b,a);var c=a.type,d=a.ua,e=a.capture;b.removeEventListener?(b==s||!b.customEvent_)&&b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in J?J[c]:J[c]="on"+c,d);b=v(b);I[b]&&(d=I[b],Aa(d,a),0==d.length&&delete I[b]);a.e=k;if(d=H[c][e][b])d.ta=k,ob(c,e,b,d);delete gb[a.key];return k}
function ob(a,b,c,d){if(!d.W&&d.ta){for(var e=0,f=0;e<d.length;e++)d[e].e?d[e].ua.src=l:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.ta=m;0==f&&(delete H[a][b][c],H[a][b].i--,0==H[a][b].i&&(delete H[a][b],H[a].i--),0==H[a].i&&delete H[a])}}function lb(a,b,c){var d=H;return b in d&&(d=d[b],c in d&&(d=d[c],a=v(a),d[a]))?d[a]:l}
function pb(a,b,c,d,e){var f=1;b=v(b);if(a[b]){var g=--a.k,n=a[b];n.W?n.W++:n.W=1;try{for(var p=n.length,U=0;U<p;U++){var r=n[U];r&&!r.e&&(f&=qb(r,e)!==m)}}finally{a.k=Math.max(g,a.k),n.W--,ob(c,d,b,n)}}return Boolean(f)}function qb(a,b){a.u&&mb(a);return a.handleEvent(b)}
function jb(a,b){if(a.e)return k;var c=a.type,d=H;if(!(c in d))return k;var d=d[c],e,f;if(!Wa){var g;if(!(g=b))a:{g=["window","event"];for(var n=s;e=g.shift();)if(n[e]!=l)n=n[e];else{g=l;break a}g=n}e=g;g=k in d;n=m in d;if(g){if(0>e.keyCode||e.returnValue!=h)return k;a:{var p=m;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(U){p=k}if(p||e.returnValue==h)e.returnValue=k}}p=new Za;$a(p,e,this);e=k;try{if(g){for(var r=[],u=p.currentTarget;u;u=u.parentNode)r.push(u);f=d[k];f.k=f.i;for(var D=r.length-
1;!p.r&&0<=D&&f.k;D--)p.currentTarget=r[D],e&=pb(f,r[D],c,k,p);if(n){f=d[m];f.k=f.i;for(D=0;!p.r&&D<r.length&&f.k;D++)p.currentTarget=r[D],e&=pb(f,r[D],c,m,p)}}else e=qb(a,p)}finally{r&&(r.length=0)}return e}c=new Za(b,this);return e=qb(a,c)}var rb="__closure_events_fn_"+(1E9*Math.random()>>>0);function hb(a){return da(a)?a:a[rb]||(a[rb]=function(b){return a.handleEvent(b)})};function L(){y.call(this);this.d={};this.Ea=this}x(L,y);L.prototype[ab]=k;L.prototype.customEvent_=k;q=L.prototype;q.X=l;q.ha=function(a){this.X=a};q.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};q.removeEventListener=function(a,b,c,d){kb(this,a,b,c,d)};
q.dispatchEvent=function(a){var b,c=this.X;if(c)for(b=[];c;c=c.X)b.push(c);var c=this.Ea,d=a.type||a;if(t(a))a=new G(a,c);else if(a instanceof G)a.target=a.target||c;else{var e=a;a=new G(d,c);fb(a,e)}var e=k,f;if(b)for(var g=b.length-1;!a.r&&0<=g;g--)f=a.currentTarget=b[g],e=sb(f,d,k,a)&&e;a.r||(f=a.currentTarget=c,e=sb(f,d,k,a)&&e,a.r||(e=sb(f,d,m,a)&&e));if(b)for(g=0;!a.r&&g<b.length;g++)f=a.currentTarget=b[g],e=sb(f,d,m,a)&&e;return e};
q.c=function(){L.f.c.call(this);var a=0,b;for(b in this.d){for(var c=this.d[b],d=0;d<c.length;d++)++a,delete gb[c[d].key],c[d].e=k;c.length=0}this.X=l};q.j=function(a,b,c,d){var e=this.d[a]||(this.d[a]=[]),f=tb(e,b,c,d);-1<f?(a=e[f],a.u=m):(a=new cb(b,l,this,a,!!c,d),a.u=m,e.push(a));return a};q.ja=function(a,b,c,d){if(!(a in this.d))return m;a=this.d[a];b=tb(a,b,c,d);return-1<b?(c=a[b],delete gb[c.key],c.e=k,1==z.splice.call(a,b,1).length):m};
function nb(a,b){var c=b.type;if(!(c in a.d))return m;if(c=Aa(a.d[c],b))delete gb[b.key],b.e=k;return c}function sb(a,b,c,d){if(!(b in a.d))return k;var e=k;b=Ba(a.d[b]);for(var f=0;f<b.length;++f){var g=b[f];g&&(!g.e&&g.capture==c)&&(g.u&&nb(a,g),e=g.handleEvent(d)!==m&&e)}return e&&d.va!=m}function tb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(f.g==b&&f.capture==!!c&&f.J==d)return e}return-1};function M(a,b){L.call(this);this.M=a||1;this.G=b||ub;this.$=w(this.Ya,this);this.fa=ka()}x(M,L);M.prototype.enabled=m;var ub=s;q=M.prototype;q.a=l;q.setInterval=function(a){this.M=a;this.a&&this.enabled?(this.stop(),this.start()):this.a&&this.stop()};q.Ya=function(){if(this.enabled){var a=ka()-this.fa;0<a&&a<0.8*this.M?this.a=this.G.setTimeout(this.$,this.M-a):(this.a&&(this.G.clearTimeout(this.a),this.a=l),this.dispatchEvent(vb),this.enabled&&(this.a=this.G.setTimeout(this.$,this.M),this.fa=ka()))}};
q.start=function(){this.enabled=k;this.a||(this.a=this.G.setTimeout(this.$,this.M),this.fa=ka())};q.stop=function(){this.enabled=m;this.a&&(this.G.clearTimeout(this.a),this.a=l)};q.c=function(){M.f.c.call(this);this.stop();delete this.G};var vb="tick";var wb,xb=!B||B&&9<=Va;!C&&!B||B&&B&&9<=Va||C&&F("1.9.1");B&&F("9");function yb(a){a=a.className;return t(a)&&a.match(/\S+/g)||[]}function N(a,b){for(var c=yb(a),d=Ca(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=xa(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e}function O(a,b){var c=yb(a),d=Ca(arguments,1),c=zb(c,d);a.className=c.join(" ")}function zb(a,b){return za(a,function(a){return!(0<=xa(b,a))})};function Ab(a,b){this.width=a;this.height=b}Ab.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};function Bb(a){return t(a)?document.getElementById(a):a}function Cb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Db("*",a,b)}function Eb(a,b){var c=b||document,d=l;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):Cb(a,b)[0])||l}
function Db(a,b,c){var d=document;c=c||d;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,f=0,g;g=c[f];f++)a==g.nodeName&&(d[e++]=g);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;g=c[f];f++)a=g.className,"function"==typeof a.split&&0<=xa(a.split(/\s+/),b)&&(d[e++]=g);d.length=e;return d}return c}
function Fb(a,b){db(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Gb?a.setAttribute(Gb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Gb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Hb(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Ab(a.clientWidth,a.clientHeight)}function Ib(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!xb&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',pa(g.name),'"');if(g.type){f.push(' type="',pa(g.type),'"');var n={};fb(n,g);delete n.type;g=n}f.push(">");f=f.join("")}f=e.createElement(f);g&&(t(g)?f.className=g:ba(g)?N.apply(l,[f].concat(g)):Fb(f,g));2<d.length&&Jb(e,f,d);return f}
function Jb(a,b,c){function d(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];if(ca(f)&&!(ea(f)&&0<f.nodeType)){var g;a:{if(f&&"number"==typeof f.length){if(ea(f)){g="function"==typeof f.item||"string"==typeof f.item;break a}if(da(f)){g="function"==typeof f.item;break a}}g=m}ya(g?Ba(f):f,d)}else d(f)}}function Kb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function P(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Q(a){this.Q=a||s.document||document}Q.prototype.S=function(a){return t(a)?this.Q.getElementById(a):a};Q.prototype.createElement=function(a){return this.Q.createElement(a)};Q.prototype.createTextNode=function(a){return this.Q.createTextNode(String(a))};Q.prototype.appendChild=function(a,b){a.appendChild(b)};function R(a){y.call(this);this.pa=a;this.U={}}x(R,y);var Lb=[];R.prototype.j=function(a,b,c,d,e){ba(b)||(Lb[0]=b,b=Lb);for(var f=0;f<b.length;f++){var g=K(a,b[f],c||this,d||m,e||this.pa||this);if(!g)break;this.U[g.key]=g}return this};
R.prototype.ja=function(a,b,c,d,e){if(ba(b))for(var f=0;f<b.length;f++)this.ja(a,b[f],c,d,e);else{a:if(c=c||this,e=e||this.pa||this,d=!!d,a&&a[ab])c=hb(c),a=a.d[b],b=-1,a&&(b=tb(a,c,d,e)),e=-1<b?a[b]:l;else{if(a=lb(a,b,d))for(b=0;b<a.length;b++)if(!a[b].e&&a[b].g==c&&a[b].capture==d&&a[b].J==e){e=a[b];break a}e=l}e&&(mb(e),delete this.U[e.key])}return this};function Mb(a){db(a.U,mb);a.U={}}R.prototype.c=function(){R.f.c.call(this);Mb(this)};
R.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Nb(a,b){G.call(this,"navigate");this.bb=a;this.Na=b}x(Nb,G);function Ob(a,b){for(var c=[a],d=b.length-1;0<=d;--d)c.push(typeof b[d],b[d]);return c.join("\x0B")};function S(a,b,c,d){L.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var e;c?e=c:(e="history_state"+Pb,document.write(oa(Qb,e,e)),e=Bb(e));this.K=e;this.b=c?P(c)?P(c).parentWindow||P(c).defaultView:window:window;this.Ga=this.b.location.href.split("#")[0];this.T=b;B&&!b&&(this.T="https"==window.location.protocol?"https:///":'javascript:""');this.a=new M(Rb);b=ja(na,this.a);this.N||(this.N=[]);this.N.push(w(b,h));this.t=!a;this.q=new R(this);if(a||T)d?
a=d:(a="history_iframe"+Pb,d=this.T?'src="'+pa(this.T)+'"':"",document.write(oa(Sb,a,d)),a=Bb(a)),this.A=a,this.ya=k;T&&(this.q.j(this.b,"load",this.Qa),this.wa=this.ca=m);this.t?Tb(this,V(this),k):W(this,this.K.value);Pb++}x(S,L);S.prototype.I=m;S.prototype.F=m;S.prototype.C=l;
var Ub=function(a,b){var c=v(a),d=b||Ob;return function(){var b=this||s,b=b.closure_memoize_cache_||(b.closure_memoize_cache_={}),f=d(c,arguments);return b.hasOwnProperty(f)?b[f]:b[f]=a.apply(this,arguments)}}(function(){return B?8<=document.documentMode:"onhashchange"in s}),T=B&&!(B&&8<=Va),Vb=T;q=S.prototype;q.D=l;q.c=function(){S.f.c.call(this);this.q.w();Wb(this,m)};
function Wb(a,b){if(b!=a.I)if(T&&!a.ca)a.wa=b;else if(b)if(Ja?a.q.j(a.b.document,Xb,a.Ta):C&&a.q.j(a.b,"pageshow",a.Sa),Ub()&&a.t)a.q.j(a.b,"hashchange",a.Ra),a.I=k,a.dispatchEvent(new Nb(V(a),m));else{if(!B||a.ca)a.q.j(a.a,vb,w(a.ma,a,k)),a.I=k,T||(a.C=V(a),a.dispatchEvent(new Nb(V(a),m))),a.a.start()}else a.I=m,Mb(a.q),a.a.stop()}q.Qa=function(){this.ca=k;this.K.value&&W(this,this.K.value,k);Wb(this,this.wa)};q.Sa=function(a){a.ea.persisted&&(Wb(this,m),Wb(this,k))};
q.Ra=function(){var a=Yb(this.b);a!=this.C&&Zb(this,a,k)};function V(a){return a.D!=l?a.D:a.t?Yb(a.b):$b(a)||""}function Yb(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}function ac(a,b){V(a)!=b&&(a.t?(Tb(a,b,m),Ub()||B&&W(a,b,m,h),a.I&&a.ma(m)):(W(a,b,m),a.D=a.C=a.K.value=b,a.dispatchEvent(new Nb(b,m))))}function Tb(a,b,c){var d=a.b.location;a=a.Ga;var e=-1!=d.href.indexOf("#");if(Vb||e||b)a+="#"+b;a!=d.href&&(c?d.replace(a):d.href=a)}
function W(a,b,c,d){if(a.ya||b!=$b(a))if(a.ya=m,b=encodeURIComponent(String(b)),B){var e=a.A.contentDocument||a.A.contentWindow.document;e.open("text/html",c?"replace":h);e.write(oa(bc,pa(d||a.b.document.title),b));e.close()}else if(b=a.T+"#"+b,a=a.A.contentWindow)c?a.location.replace(b):a.location.href=b}
function $b(a){if(B)return a=a.A.contentDocument||a.A.contentWindow.document,a.body?decodeURIComponent(a.body.innerHTML.replace(/\+/g," ")):l;var b=a.A.contentWindow;if(b){var c;try{c=decodeURIComponent(Yb(b).replace(/\+/g," "))}catch(d){return a.F||(a.F!=k&&a.a.setInterval(cc),a.F=k),l}a.F&&(a.F!=m&&a.a.setInterval(Rb),a.F=m);return c||l}return l}
q.ma=function(a){if(this.t){var b=Yb(this.b);b!=this.C&&Zb(this,b,a)}if(!this.t||T)if(b=$b(this)||"",this.D==l||b==this.D)this.D=l,b!=this.C&&Zb(this,b,a)};function Zb(a,b,c){a.C=a.K.value=b;a.t?(T&&W(a,b),Tb(a,b)):W(a,b);a.dispatchEvent(new Nb(V(a),c))}q.Ta=function(){this.a.stop();this.a.start()};
var Xb=["mousedown","keydown","mousemove"],bc="<title>%s</title><body>%s</body>",Sb='<iframe id="%s" style="display:none" %s></iframe>',Qb='<input type="text" name="%s" id="%s" style="display:none">',Pb=0,Rb=150,cc=1E4;function dc(a,b,c){var d;a:if(d=va(c),a.style[d]===h&&(c=(E?"Webkit":C?"Moz":B?"ms":Ja?"O":l)+wa(c),a.style[c]!==h)){d=c;break a}d&&(a.style[d]=b)}
function ec(a){var b;a:{b=P(a);if(b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,l))){b=b.display||b.getPropertyValue("display")||"";break a}b=""}if("none"!=(b||(a.currentStyle?a.currentStyle.display:l)||a.style&&a.style.display))return fc(a);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=fc(a);b.display=c;b.position=e;b.visibility=d;return a}
function fc(a){var b=a.offsetWidth,c=a.offsetHeight,d=E&&!b&&!c;return(b===h||d)&&a.getBoundingClientRect?(b=a.getBoundingClientRect(),B&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop),new Ab(b.right-b.left,b.bottom-b.top)):new Ab(b,c)};function X(){}X.oa=function(){return X.ra?X.ra:X.ra=new X};X.prototype.Pa=0;X.oa();function Y(a){L.call(this);this.da=a||wb||(wb=new Q);this.Va=gc}x(Y,L);Y.prototype.La=X.oa();var gc=l;q=Y.prototype;q.qa=l;q.B=m;q.m=l;q.Va=l;q.Oa=l;q.Y=l;q.O=l;q.H=l;q.za=m;q.S=function(){return this.m};q.ha=function(a){if(this.Y&&this.Y!=a)throw Error("Method not supported");Y.f.ha.call(this,a)};q.ba=function(a){this.m=a};q.R=function(){this.B=k;hc(this,function(a){!a.B&&a.S()&&a.R()})};function ic(a){hc(a,function(a){a.B&&ic(a)});a.n&&Mb(a.n);a.B=m}
q.c=function(){this.B&&ic(this);this.n&&(this.n.w(),delete this.n);hc(this,function(a){a.w()});!this.za&&this.m&&Kb(this.m);this.Y=this.Oa=this.m=this.H=this.O=l;Y.f.c.call(this)};function hc(a,b){a.O&&ya(a.O,b,h)}
q.removeChild=function(a,b){if(a){var c=t(a)?a:a.qa||(a.qa=":"+(a.La.Pa++).toString(36));a=this.H&&c?(c in this.H?this.H[c]:h)||l:l;if(c&&a){var d=this.H;c in d&&delete d[c];Aa(this.O,a);b&&(ic(a),a.m&&Kb(a.m));c=a;if(c==l)throw Error("Unable to set parent component");c.Y=l;Y.f.ha.call(c,l)}}if(!a)throw Error("Child is not in parent component");return a};function jc(a,b){return a.dataset?a.dataset[b]:a.getAttribute("data-"+String(b).replace(/([A-Z])/g,"-$1").toLowerCase())};function kc(a){L.call(this);this.b=a||window;this.V=K(this.b,"resize",this.Ja,m,this);this.h=Hb(this.b||window)}x(kc,L);q=kc.prototype;q.V=l;q.b=l;q.h=l;function lc(){var a=mc;return a.h?new Ab(a.h.width,a.h.height):l}q.c=function(){kc.f.c.call(this);this.V&&(mb(this.V),this.V=l);this.h=this.b=l};q.Ja=function(){var a=Hb(this.b||window);if(!(a==this.h||(!a||!this.h?0:a.width==this.h.width&&a.height==this.h.height)))this.h=a,this.dispatchEvent("resize")};function Z(a,b){Y.call(this,b);var c=a||{};this.Ma="isCalculateHeight"in c?c.isCalculateHeight:k;this.o="cssNamespace"in c?c.cssNamespace:nc;this.ga="paramName"in c?c.paramName:"tab";this.Z=[];this.v=[];this.P={};this.aa=[];this.s=0;this.l={Za:this.o,Aa:this.o+"-"+oc,ka:this.o+"-"+pc,Ba:this.o+"-"+qc,Ca:this.o+"-"+rc,la:this.o+"-"+sc,Da:this.o+"-"+tc};uc===h&&(c=Ib("input",{id:"history_state",style:"display:none;",type:"hidden"}),document.body.appendChild(c),uc=new S(m,l,c),Wb(uc,k));this.L=uc}var uc;
x(Z,Y);var nc="gweb-tabset",oc="content",pc="content-active",qc="contents",rc="nav",sc="nav-active",tc="visible";
Z.prototype.ba=function(a){Z.f.ba.call(this,a);this.m=a;a=this.S();this.xa=Db("div",this.l.Ca,a)[0];this.Z=Db("li",l,this.xa);this.Ha=Db("div",this.l.Ba,a)[0];this.v=Cb(this.l.Aa,a);a=0;for(var b;b=this.v[a];a++)b=b.id||"UNDEFINED-CONTENT-ITEM-"+a,this.P[b]=a,this.aa[a]=b;this.s=vc(this);wc(this,this.s,m);(this.n||(this.n=new R(this))).j(this.L,"navigate",this.Ka);this.Ma&&(a=this.Ha,b=xc(this)+"px",t("min-height")?dc(a,b,"min-height"):db("min-height",ja(dc,a)));N(this.S(),this.l.Da)};
Z.prototype.R=function(){Z.f.R.call(this);for(var a=this.n||(this.n=new R(this)),b=0,c;c=this.Z[b];b++)c=Db("a",l,c)[0],a.j(c,"click",ja(this.Ia,b))};Z.prototype.Ka=function(a){var b=vc(this);b!=this.s&&a.Na&&wc(this,b,m)};Z.prototype.Ia=function(a,b){b.preventDefault();wc(this,a,k)};function vc(a){var b;b=RegExp(a.ga+"=[A-Za-z0-9_-]+","g");var c=V(a.L).match(b);if(c&&c[0])for(var d=c.length,e=0;e<d;e++)if(b=c[e].split("=")[1],b in a.P)return b in a.P?a.P[b]:h;return 0}
function xc(a){var b=ec(a.xa).height,c=ec(a.v[0]).height;ya(a.v,function(a,b){0<b&&(c=Math.max(c,ec(a).height))},a);return Math.max(b,c)}function wc(a,b,c){c=c!==h?c:k;O(a.Z[a.s],a.l.la);O(a.v[a.s],a.l.ka);N(a.Z[b],a.l.la);N(a.v[b],a.l.ka);if(c){var d=RegExp(a.ga+"="+a.aa[a.s],"g");c=a.ga+"="+a.aa[b];var e=V(a.L);(d=e.match(d))&&d[0]?(c=e.replace(d[0],c),ac(a.L,c)):ac(a.L,e+(e?"&"+c:c))}a.s=b;a.dispatchEvent(new yc(a))}function yc(a){G.call(this,zc);this.ab=a}x(yc,G);var zc="tab-select";
function Ac(a){if(this.element=a)if(this.frames=parseInt(jc(this.element,"frames"),10))this.ia=new M(80),this.bind()}q=Ac.prototype;q.p=0;q.bind=function(){K(this.element,"mouseover",this.start,m,this);K(this.element,"mouseout",this.stop,m,this);K(this.ia,vb,this.Fa,m,this)};q.start=function(){this.ia.start()};q.stop=function(){this.ia.stop();this.reset()};q.Fa=function(){var a=this.p+1,a=a>this.frames?1:a;this.p&&O(this.element,"button-frame-"+this.p);N(this.element,"button-frame-"+a);this.p=a};
q.reset=function(){this.p&&O(this.element,"button-frame-"+this.p);this.p=0};var Bc=Eb("ending");Bc&&(Bc.innerHTML+='<img src="images/globe-semi.png" alt="">');new function(a){a=a||{};this.Wa=Cb("cssNamespace"in a?a.cssNamespace:nc);this.Xa=[];for(var b=0,c;c=this.Wa[b];b++){var d=new Z(a);this.Xa.push(d);if(d.B)throw Error("Component already rendered");if(c){d.za=k;var e=P(c);if(!d.da||d.da.Q!=e)d.da=c?new Q(P(c)):wb||(wb=new Q);d.ba(c);d.R()}else throw Error("Invalid element to decorate");}}({cssNamespace:"tabs"});
var Cc=Eb("header").getElementsByTagName("h1")[0],Dc=Eb("nav");K(Cc,"click",function(a){"a"!=a.target.nodeName.toLowerCase()&&(a=yb(Dc),!(0<=xa(a,"active"))?N(Dc,"active"):O(Dc,"active"))});var Ec=Bb("flightpath");
if(Ec){var $=Eb("button",Ec),Fc=jc($,"closeText"),Gc=Ib("span","button",Fc),Hc=jc($,"closeFrames");Gc.dataset?Gc.dataset.frames=Hc:Gc.setAttribute("data-"+"frames".replace(/([A-Z])/g,"-$1").toLowerCase(),Hc);$.parentNode&&$.parentNode.insertBefore(Gc,$.nextSibling);K($,"click",function(a){a.preventDefault();N(Ec,"active")});K(Gc,"click",function(){O(Ec,"active")})}new function(){for(var a=Cb("button"),b=0,c;c=a[b];b++)new Ac(c)};
for(var Ic=Cb("video"),Jc=/watch\?v\=([^\&]+)/,Kc=0,Lc;Lc=Ic[Kc];Kc++){var Mc=Lc.getElementsByTagName("a")[0],Nc=Mc.href.match(Jc);Nc&&Nc[1]&&function(a){var b=jc(Mc,"cc"),c=b?"&hl="+b+"&cc_load_policy=1&cc_lang_pref="+b:"";K(Mc,"click",function(b){b.preventDefault();a.innerHTML='<iframe src="//www.youtube.com/embed/'+Nc[1]+"?modestbranding=1&rel=0&showinfo=0&autoplay=1&autohide=1&origin="+location.protocol+"//"+location.host+c+'" allowfullscreen frameborder="0"></iframe>'})}(Lc)}var Oc=Bb("nz");
if(Oc&&E)if(window.matchMedia&&window.matchMedia("screen").addListener){var Pc=window.matchMedia("(min-width: 960px)");Pc.addListener(function(){Qc(Pc.matches)});Qc(Pc.matches)}else{var mc=new kc;K(mc,"resize",function(){Qc(960<=lc().width)});Qc(960<=lc().width)}function Qc(a){a?N(Oc,"enhanced"):O(Oc,"enhanced")};})();

(function() {var lastTime=0;var vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"]}
if(!window.requestAnimationFrame)window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(id){clearTimeout(id)};}());

(function() {var DETECTION=new detectionClass;
function detectionClass(){var self=this;self.isMobile=null;self.isTouchDevice=null;self.appVersion=null;self.browser=null;self.browserVersion=null;self.OS=null;self.has3d=null;self.hasCanvas=null;self.init=function(){browserDetect();self.isTouchDevice=isTouchDevice();self.has3d=_has3d()};self.isTouch=function(){return!!("ontouchstart"in window)};self.hasCanvas=function(){var elem=document.createElement("canvas");return!!(elem.getContext&&elem.getContext("2d"))}();function isTouchDevice(){var is=false;
if(self.isTouch())is=true;return is}function _has3d(){var el=document.createElement("p"),has3d,transforms={"WebkitTransform":"-webkit-transform","OTransform":"-o-transform","msTransform":"-ms-transform","MozTransform":"-moz-transform","transform":"transform"};document.body.insertBefore(el,null);for(var t in transforms)if(el.style[t]!==undefined){el.style[t]="translate3d(1px,1px,1px)";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t])}document.body.removeChild(el);return has3d!==undefined&&
has3d.length>0&&has3d!=="none"}function browserDetect(){var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"unknown";self.appVersion=navigator.appVersion;self.browser=this.browser;self.browserVersion=this.version;self.OS=this.OS},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=
data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1)return data[i].identity}else if(dataProp)return data[i].identity}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index==-1)return;return parseFloat(dataString.substring(index+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},
{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,
subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},
{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init()}}var SCROLL=new scrollClass;
function scrollClass(){var self=this;var scrollRatio=null;var scrollOffsetCenter=null;var curNumRules=null;var ruleWidth=6;var ruleDist=15;var ruleHeight=2;var numActive=5;var ruleArray=[];var dataPoints=[0.4,0.8,1];var trackingRatios=[0.3,0.6,0.9];var activeScrollSection=null;self.init=function(){buildRuler()};self.scrollTo=function(){};self.getScrollRatio=function(){return scrollRatio};self.scrollChange=function(scroll){var scrollVal=$(document).scrollTop();scrollRatio=scrollVal/(CONFIG.contentHeight-
CONFIG.windowHeight);scrollOffsetCenter=CONFIG.windowHeight/CONFIG.contentHeight;for(var i=0;i<trackingRatios.length;i++)if(scrollRatio>trackingRatios[i]){var perc=trackingRatios[i]*100;trackEvent("engagement","scroll",perc+"%");trackingRatios[i]=200}STARS.scrollUpdate(scrollRatio);var curScrollSection=0;if($("#distance-satellite")){if(scrollVal>572&&scrollVal<878)$("#distance-satellite").fadeIn(300);else $("#distance-satellite").fadeOut(300);if(scrollVal>1820&&scrollVal<2150)$("#distance-weather").fadeIn(300);
else $("#distance-weather").fadeOut(300);if(scrollVal>3320&&scrollVal<3620)$("#distance-jets").fadeIn(300);else $("#distance-jets").fadeOut(300);if(scrollVal>572&&scrollVal<878||scrollVal>1820&&scrollVal<2150||scrollVal>3320&&scrollVal<3620){$("#rulerContainer .rule").eq(curNumRules/2-1).stop().animate({"width":15,opacity:0.7},100);$("#rulerContainer .rule").eq(curNumRules/2).stop().animate({"width":25,opacity:0.7},50);$("#rulerContainer .rule").eq(curNumRules/2+1).stop().animate({"width":15,opacity:0.7},
100)}else{$("#rulerContainer .rule").eq(curNumRules/2-1).stop().animate({"width":6,opacity:0.3},50);$("#rulerContainer .rule").eq(curNumRules/2).stop().animate({"width":6,opacity:0.3},100);$("#rulerContainer .rule").eq(curNumRules/2+1).stop().animate({"width":6,opacity:0.3},50)}}};self.animate=function(){};function buildRuler(){curNumRules=Math.floor(CONFIG.windowHeight/(ruleHeight+ruleDist));var rulerHeight=curNumRules*(ruleHeight+ruleDist)-ruleDist;var startHeight=(CONFIG.windowHeight-rulerHeight)/
2;for(var i=0;i<curNumRules;i++){var tempRule=$("<div>",{"class":"rule"}).css({"top":startHeight+(ruleHeight+ruleDist)*i+"px"}).appendTo("#rulerContainer");ruleArray.push(tempRule)}}function updateRuler(){$(".rule").css("opacity",0.1);var inactiveRuleCss={"height":ruleHeight};$(".rule").css(inactiveRuleCss);var dataOffset=0.3;for(var i=0;i<dataPoints.length;i++){var min=dataPoints[i]-dataOffset;var max=dataPoints[i]+dataOffset;var ratio=(scrollRatio+scrollOffsetCenter-min)/(max-min);var closestPoint=
null;var smallestDist=CONFIG.contentHeight;for(var j=-10;j<ruleArray.length+10;j++){var tempRuleRatio=j/ruleArray.length;var tempDist=Math.abs(tempRuleRatio-ratio);if(tempDist<smallestDist){smallestDist=tempDist;closestPoint=ruleArray.length-j}}changeRuler(closestPoint,i);moveDataPoint(i,closestPoint/ruleArray.length)}}function moveDataPoint(index,ratio){}function changeRuler(index,dataIndex){var numAffected=50;for(var i=0;i<ruleArray.length;i++)if(i>=index-numAffected&&i<=index+numAffected){var scaleRatio=
1-Math.abs(i-index)/numAffected;var newWidth=scaleRatio*ruleWidth;$(".rule").eq(i).css("opacity",0.2+0.4*scaleRatio);if(i==index)moveDataPoint(dataIndex,$(".rule").eq(i).position().top)}}self.resize=function(){$("#rulerContainer").css({"width":20,"height":CONFIG.windowHeight,"top":"50%","margin-top":-CONFIG.windowHeight/2});curNumRules=Math.floor(CONFIG.windowHeight/(ruleHeight+ruleDist));if($("#bottom-globe").length>0){var globeImgH=$("#bottom-globe img").height();$("#end").css({"padding-bottom":globeImgH})}}}
var STARS=new starsClass;
function starsClass(){var self=this;var starCanvasRef=null;var starCtxRef=null;var star1Ref=null;var star2Ref=null;var curImageData=null;var curScroll=0;self.init=function(){if(DETECTION.has3d){star1Ref=createStarField(CONFIG.contentWidth,CONFIG.contentHeight*0.7,0,20,1.1);star2Ref=createStarField(CONFIG.contentWidth,CONFIG.contentHeight*0.7,40,5,1)}};self.animate=function(){render()};self.scrollUpdate=function(scroll){curScroll=scroll};function render(){var top=-curScroll*(CONFIG.contentHeight*0.5-
CONFIG.windowHeight)*0.3;var top2=-curScroll*(CONFIG.contentHeight*0.7-CONFIG.windowHeight)*-0.2;if(DETECTION.has3d){$("#stars").css({"width":CONFIG.windowWidth+"px"});var css="translate3d("+0+"px,"+top+"px,"+0+"px)";$("#stars-1").css({"height":CONFIG.contentHeight+"px","transform":css,"-webkit-transform":css,"-moz-transform":css,"-ms-transform":css,"-o-transform":css});var css2="translate3d("+0+"px,"+top2+"px,"+0+"px)";$("#stars-2").css({"height":CONFIG.contentHeight+"px","transform":css2,"-webkit-transform":css2,
"-moz-transform":css2,"-ms-transform":css2,"-o-transform":css2})}else $("#stars-1").css("top",-top+"px")}function createStarField(w,h,starsStart,starsEnd,size){var tempCanvas=document.createElement("canvas");var tempCtx=tempCanvas.getContext("2d");tempCtx.canvas.width=w;tempCtx.canvas.height=h;var numStarsLevels=10;var sectionHeight=h/numStarsLevels;var sectionWidth=w;var numStarsStart=starsStart;var numStarsEnd=starsEnd;var dir=numStarsStart>numStarsEnd?-1:1;var maxStars=!!(dir==1)?numStarsEnd:numStarsStart;
var minStars=!!(dir==1)?numStarsStart:numStarsEnd;var starsInc=dir*Math.ceil(maxStars/numStarsLevels);for(var i=0;i<numStarsLevels;i++){var curNumStars=numStarsStart+starsInc*i;for(var j=0;j<curNumStars;j++){var randX=sectionWidth*Math.random();var randY=sectionHeight*Math.random();var curX=randX;var curY=i*sectionHeight+randY;drawStar(curX,curY)}}function drawStar(x,y){tempCtx.globalAlpha=0.1+0.9*Math.random();tempCtx.fillStyle="#ffffff";tempCtx.beginPath();tempCtx.arc(x,y,size,0,Math.PI*2,true);
tempCtx.closePath();tempCtx.fill()}var data={};data.height=h;data.width=w;return{"canvasRef":tempCanvas,"data":data}}self.resize=function(){render()}}var GLMAT_ARRAY_TYPE=typeof Float32Array!=="undefined"?Float32Array:Array;var vec2={};vec2.create=function(){var out=new GLMAT_ARRAY_TYPE(2);out[0]=0;out[1]=0;return out};vec2.clone=function(a){var out=new GLMAT_ARRAY_TYPE(2);out[0]=a[0];out[1]=a[1];return out};vec2.fromValues=function(x,y){var out=new GLMAT_ARRAY_TYPE(2);out[0]=x;out[1]=y;return out};
vec2.copy=function(out,a){out[0]=a[0];out[1]=a[1];return out};vec2.set=function(out,x,y){out[0]=x;out[1]=y;return out};vec2.add=function(out,a,b){out[0]=a[0]+b[0];out[1]=a[1]+b[1];return out};vec2.limit=function(out,a,max){var lengthSquared=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(lengthSquared>max*max&&lengthSquared>0){var ratio=max/Math.sqrt(lengthSquared);out[0]=a[0]*ratio;out[1]=a[1]*ratio}return out};vec2.subtract=function(out,a,b){out[0]=a[0]-b[0];out[1]=a[1]-b[1];return out};vec2.sub=vec2.subtract;
vec2.multiply=function(out,a,b){out[0]=a[0]*b[0];out[1]=a[1]*b[1];return out};vec2.mul=vec2.multiply;vec2.divide=function(out,a,b){out[0]=a[0]/b[0];out[1]=a[1]/b[1];return out};vec2.div=vec2.divide;vec2.min=function(out,a,b){out[0]=Math.min(a[0],b[0]);out[1]=Math.min(a[1],b[1]);return out};vec2.max=function(out,a,b){out[0]=Math.max(a[0],b[0]);out[1]=Math.max(a[1],b[1]);return out};vec2.scale=function(out,a,b){out[0]=a[0]*b;out[1]=a[1]*b;return out};
vec2.distance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)};vec2.dist=vec2.distance;vec2.squaredDistance=function(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y};vec2.sqrDist=vec2.squaredDistance;vec2.length=function(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)};vec2.len=vec2.length;vec2.squaredLength=function(a){var x=a[0],y=a[1];return x*x+y*y};vec2.sqrLen=vec2.squaredLength;vec2.negate=function(out,a){out[0]=-a[0];out[1]=-a[1];return out};
vec2.normalize=function(out,a){var x=a[0],y=a[1];var len=x*x+y*y;if(len>0){len=1/Math.sqrt(len);out[0]=a[0]*len;out[1]=a[1]*len}return out};vec2.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};vec2.cross=function(out,a,b){var z=a[0]*b[1]-a[1]*b[0];out[0]=out[1]=0;out[2]=z;return out};vec2.lerp=function(out,a,b,t){var ax=a[0],ay=a[1];out[0]=ax+t*(b[0]-ax);out[1]=ay+t*(b[1]-ay);return out};vec2.transformMat2=function(out,a,m){var x=a[0],y=a[1];out[0]=m[0]*x+m[2]*y;out[1]=m[1]*x+m[3]*y;return out};
vec2.transformMat2d=function(out,a,m){var x=a[0],y=a[1];out[0]=m[0]*x+m[2]*y+m[4];out[1]=m[1]*x+m[3]*y+m[5];return out};vec2.transformMat3=function(out,a,m){var x=a[0],y=a[1];out[0]=m[0]*x+m[3]*y+m[6];out[1]=m[1]*x+m[4]*y+m[7];return out};vec2.transformMat4=function(out,a,m){var x=a[0],y=a[1];out[0]=m[0]*x+m[4]*y+m[12];out[1]=m[1]*x+m[5]*y+m[13];return out};
vec2.forEach=function(){var vec=vec2.create();return function(a,stride,offset,count,fn,arg){var i,l;if(!stride)stride=2;if(!offset)offset=0;if(count)l=Math.min(count*stride+offset,a.length);else l=a.length;for(i=offset;i<l;i+=stride){vec[0]=a[i];vec[1]=a[i+1];fn(vec,vec,arg);a[i]=vec[0];a[i+1]=vec[1]}return a}};var particleShape=new ParticleShape;
function ParticleShape(){var canvas=null;var context=null;var pixels=[];var particles=[];var mousePos=vec2.create();var mapImage=new Image;var balloonImage=new Image;var width=500;var height=570;this.attractorStrength=200;this.repellerStrength=160;this.repellerRadius=45;this.repellerScale=false;this.repellerScaleStrength=200;this.repellerInitialScalePercent=1;this.repellerScaleRadius=100;this.particleResolution=9;this.isOutline=false;this.attrStrength=0.4;var self=this;this.init=function(){canvas=
$("<canvas/>",{"id":"nz-canvas"});$("#nz").prepend(canvas).prepend('<div id="nz-outline"></div>');context=canvas[0].getContext("2d");$(canvas).mousemove(function(event){mousePos=vec2.fromValues(event.offsetX,event.offsetY)});this.updateParticles()};this.updateParticles=function(){var imagePath="/loon/images/";mapImage.onload=this.initParticles();mapImage.src=imagePath+"nz-map.jpg";balloonImage.src=imagePath+"nz-balloons.png"};this.initParticles=function(){$("#nz-outline").css({"width":width+"px",
"height":height+"px"}).delay(2E3).fadeOut(1E4);particles=[];var checkImageLoadedInterval=setInterval(function(){if(mapImage.width!=0){clearInterval(checkImageLoadedInterval);setTimeout(function(){context.width=context.canvas.width=width;context.height=context.canvas.height=height;context.drawImage(mapImage,0,0);var imageData=context.getImageData(0,0,width,height);pixels=imageData.data;var resolution=self.particleResolution;for(var i=0;i<context.width;i+=resolution)for(var j=0;j<context.height;j+=
resolution){var c=getColor(i,j);var isBlack=c==="rgb(0,0,0)"||c==="rgb(1,1,1)";if(isBlack)particles.push(new Particle(i+50,j+25))}},100)}},200)};this.render=function(){if(context){context.canvas.width=width;for(var i=0;i<particles.length;i++)particles[i].render()}context.globalCompositeOperation="destination-out";var gradient=context.createRadialGradient(286,232,260,286,232,300);gradient.addColorStop(0,"rgba(255, 255, 255, 0)");gradient.addColorStop(1,"rgba(255, 255, 255, 1.0)");context.fillStyle=
gradient;context.fillRect(0,0,width,height)};var getColor=function(x,y){var base=(Math.floor(y)*context.width+Math.floor(x))*4;var c={r:pixels[base+0],g:pixels[base+1],b:pixels[base+2],a:pixels[base+3]};return"rgb("+c.r+","+c.g+","+c.b+")"};function isCanvasSupported(){var elem=document.createElement("canvas");return!!(elem.getContext&&elem.getContext("2d"))}function Particle(x,y){this.r=6;this.origin=vec2.fromValues(x,y);this.velocity=vec2.create();this.destination=vec2.fromValues(x*Math.random(),
1E3+y*Math.random()*5);this.location=vec2.fromValues(x+Math.random()*10,y+Math.random()*10);this.acceleration=vec2.create();this.maxSpeed=0.3;this.destinationRotationSpeed=Math.random()*1;this.angle=0;this.scale=10+Math.random()*5;this.rotationRadiusX=5+(-2+Math.random()*8)*3;this.rotationRadiusY=5+(-5+Math.random()*8)*3;this.offset=48*Math.round(Math.random()*50);this.offsetColor=25*Math.floor(Math.random()*2);this.counter=0;this.scaleModifier=1;this.localRandom=Math.random();this.render=function(){this.applyForce(this.repelMouse(self.repellerRadius,
self.repellerStrength));this.applyForce(this.attractOrigin());this.rotate();this.update();this.draw()};this.rotate=function(){var dist=vec2.create();vec2.subtract(dist,this.location,mousePos);var dest=vec2.create();this.angle+=this.destinationRotationSpeed;var rad=this.angle*(Math.PI/180);dest[0]=this.destination[0]+this.rotationRadiusX*Math.cos(rad);dest[1]=this.destination[1]+this.rotationRadiusY*Math.sin(rad);this.location=vec2.clone(dest);this.angle%=360};this.repelMouse=function(radius,repellForce){var force=
vec2.create();var destOrg=vec2.create();vec2.subtract(destOrg,mousePos,this.destination);var destLength=vec2.length(destOrg);vec2.normalize(destOrg,destOrg);if(destLength<radius){var distance=1-destLength/radius;var negativeForce=repellForce*distance;vec2.scale(destOrg,destOrg,-1*negativeForce)}force=vec2.clone(destOrg);return force};this.attractOrigin=function(){var force=vec2.create();vec2.subtract(force,this.origin,this.destination);var d=vec2.length(force);vec2.normalize(force,force);var negativeForce=
self.attrStrength*self.attractorStrength*(d/125);vec2.scale(force,force,negativeForce);return force};this.applyForce=function(force){vec2.add(this.acceleration,this.acceleration,force)};this.update=function(){vec2.add(this.velocity,this.velocity,this.acceleration);vec2.limit(this.velocity,this.velocity,this.maxSpeed);vec2.add(this.destination,this.destination,this.velocity);vec2.set(this.acceleration,0,0)};this.draw=function(){context.drawImage(balloonImage,this.offsetColor,3264-this.offset-48,25,
48,this.location[0],this.location[1],20,38);context.globalAlpha=1;if(this.counter==3){this.offset+=48;this.offset%=3264;this.counter=0}this.counter++}}return this}var GRAD=new navGrad;
function navGrad(){var canvas,ctx,tmpcanvas,tmpctx,bg,pattern,gradient;var self=this;var ready=false;var curOffset=0;targWidth=window.innerWidth;self.init=function(){canvas=$("<canvas/>",{"id":"header-canvas"});canvas.width=targWidth;canvas.height=200;canvas[0].style.zIndex=-1;canvas[0].style.position="absolute";canvas[0].style.top=0;canvas[0].style.left=0;canvas[0].style.width=targWidth+"px";canvas[0].style.height="200px";$(".header").append(canvas).css("background","transparent");$("#header-canvas").css({"-webkit-touch-callout":"none",
"-webkit-transform":"translate3d(0,0,0)","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","pointer-events":"none"});ctx=canvas[0].getContext("2d");gradient=ctx.createLinearGradient(0,0,0,150);gradient.addColorStop(0,"rgba(0,0,0,1)");gradient.addColorStop(0.4,"rgba(0,0,0,1)");gradient.addColorStop(0.8,"rgba(0,0,0,0)");gradient.addColorStop(1,"rgba(0,0,0,0)");bg=new Image;bg.onload=function(){setTimeout(function(){curOffset=
$(window).scrollTop();ready=true;self.resize();setTimeout(function(){self.resize()},1E3)},500)};bg.src="/loon/images/sky.jpg"};self.render=function(){if(curOffset!=Math.abs($(window).scrollTop()))curOffset=Math.abs($(window).scrollTop());if(ready)draw()};self.resize=function(){targWidth=window.innerWidth;draw()};function draw(){targWidth=window.innerWidth;if(canvas.width!=targWidth){canvas.width=targWidth;canvas[0].style.width=targWidth+"px"}var winRatio=bg.height/$("body").height();ctx.clearRect(0,
0,targWidth,150);ctx.drawImage(bg,0,curOffset*winRatio,1,150*winRatio,0,0,targWidth,150);var pxl=ctx.getImageData(10,0,1,canvas.height).data;var st0=pxl.length/4*0.4;var st1=pxl.length/4*0.8;var st2=pxl.length/4-4;gradient=ctx.createLinearGradient(0,0,0,150);gradient.addColorStop(0,"rgba("+pxl[0]+","+pxl[1]+","+pxl[2]+",1)");gradient.addColorStop(0.4,"rgba("+pxl[st0]+","+pxl[st0+1]+","+pxl[st0+2]+",1)");gradient.addColorStop(0.8,"rgba("+pxl[st1+0]+","+pxl[st1+1]+","+pxl[st1+2]+",0)");gradient.addColorStop(1,
"rgba("+pxl[st2+0]+","+pxl[st2+1]+","+pxl[st2+2]+",0)");ctx.clearRect(0,0,targWidth,150);ctx.globalCompositeOperation="source-over";ctx.fillStyle=gradient;ctx.fillRect(0,0,targWidth,150)}}CONFIG={};CONFIG.pagePath=window.location.pathname;var useClipRect=true;CONFIG.useGlobe=false;CONFIG.useBalloons=false;var file,n;var currScroll=0;var lastScroll=0;var prevTouch=0;var trackEvent=function(event,action,label){window.loonTracker.trackEvent(event,action,label)};
$(document).ready(function(){getWidthHeight();animate();bindEvents();STARS.init();DETECTION.init();if(DETECTION.hasCanvas){GRAD.init();if($(".where #nz.enhanced").get().length){CONFIG.useBalloons=true;particleShape.init()}}SCROLL.init();scrollChange($(window).scrollTop());$(window).resize()});$(window).load(function(){$("#stars-1, #stars-2").height($("body").height()-550)});$(window).resize(function(){getWidthHeight();STARS.resize();SCROLL.resize();GRAD.resize()});
function getWidthHeight(){CONFIG.windowHeight="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight;CONFIG.windowWidth="innerHeight"in window?window.innerWidth:document.documentElement.offsetWidth;CONFIG.contentHeight=$("body").height();CONFIG.contentWidth=$("html").width()}var requestAnimFrame=window.requestAnimationFrame;
function renderLoop(){if(lastScroll!=currScroll){lastScroll=currScroll;SCROLL.scrollChange(scroll);STARS.animate();SCROLL.animate();if(DETECTION.hasCanvas)GRAD.render()}if(CONFIG.useBalloons)particleShape.render()}function animate(){requestAnimFrame(animate);renderLoop()}function bindEvents(){$("html").mousemove(function(e){getMousePoints(e)}).mousedown(function(e){getMousePoints(e)}).mouseup(function(e){getMousePoints(e)});$(window).scroll(function(){scrollChange($(this).scrollTop())})}
function scrollChange(scroll){currScroll=scroll}function getMousePoints(e){CONFIG.mouseX=e.pageX;CONFIG.mouseY=e.pageY};})();