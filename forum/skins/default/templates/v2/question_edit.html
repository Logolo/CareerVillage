{% extends 'v2/base.html' %}

{% load i18n extra_tags extra_filters %}
{% block title %}{% spaceless %}{% trans "Edit question" %}{% endspaceless %}{% endblock %}
{% block head %}
{% endblock %}

{% block scripts %}
    <script>
    </script>
{% endblock %}

{% block content %}
    <div id="block-content" class="row-fluid">

        <!-- left column -->
        <div class="col-left col-sidebar span3">

            <!-- profile picture and summary info -->
            <div class="media profile">
                <!--<div class="update-link"><a href="{# TODO update profile link #}">update</a></div>-->
                <a class="pull-left" href="{{ user.get_profile_url }}">
                    {% avatar user 128 %}
                </a>
                <div class="media-body">
                    <h5><a href="{{ user.get_profile_url }}">{{ user.real_name }}</a></h5>
                    <p>
                        {% ifequal request.user.type "S" %}{% else %}<span>{{ request.user.headline}}</span><br />{% endifequal %}
                        <span class="text-light">{# TODO user.location #} Houston, TX</span><br />
                        <span class="text-light">{# TODO user.industry (for professionals, wrap in if statement) #} Healthcare</span>
                    </p>
                </div>

                <!-- user stats -->
                <div class="profile-stats">
                    <div class="row-fluid">
                        <div class="box span6">
                            <h3>{{ user.reputation }}</h3>
                            <p>Karma</p>
                        </div>
                        <div class="box span6">
                            <h3>{{ request.user.get_question_count_total }}</h3>
                            <p>Questions</p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- sidebar -->


        </div><!--/.col-left -->


        <!-- right column -->
        <div class="col-right col-main list-questions span9">
            <div class="row-fluid">
                <h2>Edit your question</h2>

                <div id="editform">
                    <form id="fmask" action="" method="post" accept-charset="utf-8" data-message-on-exit="{% trans 'Are you sure you want to leave?  Your work will be lost.' %}">

                        <!-- Question Revision -->
                        <label>{% trans 'Revision' %}</label>
                        {{ revision_form.revision }}
                        <input type="submit" style="display:none" id="select_revision" name="select_revision"
                                                            value="{% trans "select revision"%}">

                        {{ form.revision.errors }}

                        <!-- Question Title -->
                        <label>{% trans 'Question Title' %}</label>
                        <input autocomplete="off" name="title" maxlength="255" type="text" id="id_title" size="70" placeholder="What's your career question?"  value="{{ form.title.value }}">
                        {{ form.title.errors }}

                        <!-- Question Description -->
                        <label>{% trans 'Description' %}</label>
                        <div id="wmd-button-bar" class="wmd-panel"></div>
                        {{ form.text }} {{ form.text.errors }}
                        <div id="previewer" class="wmd-preview"></div>

                        <!-- Question Topics/Tags -->
                        <label>{% trans 'Topics' %}</label>
                        <input autocomplete="off" class="has-popover" id="id_tags" type="text" name="tags" size="100" placeholder="What are some topics this question is about?" value="{{ form.tags.value }}"
                               data-placement="top"
                               data-trigger="focus"
                               data-content="Add as many topics as you want, just include a space between each word"
                                />

                        <!-- Question Summary -->
                        <label>{% trans 'Update summary' %}</label>
                        <input autocomplete="off" name="{{ form.summary.html_name }}" maxlength="255" type="text" id="id_summary" placeholder="{% trans 'Brief summary of your revision (e.g. fixed spelling, grammar, improved style), this field is optional' %}" size="70" value="">
                        {{ form.summary.errors }}


                        {{ form.tags.errors }}

                        <input name="ask" type="submit" value="{% trans "Save changes" %}" class="btn btn-success"/>
                    </form>
                    <div>
                        <a onclick="history.back(); return false;" href="">I changed my mind. Take me back.</a>
                    </div>
                </div>
            </div>
        </div>
    </div><!--/#block-content.row-fluid -->

{% endblock %}